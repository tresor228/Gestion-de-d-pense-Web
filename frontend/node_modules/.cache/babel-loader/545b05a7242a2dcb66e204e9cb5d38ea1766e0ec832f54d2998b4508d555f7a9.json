{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ExpensesList(){const[expenses,setExpenses]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Utilisation d'axios au lieu de fetch pour la cohérence avec le reste du projet\nsetIsLoading(true);axios.get(\"/api/transactions\")// Utilise le proxy configuré dans package.json\n.then(response=>{setExpenses(response.data);setIsLoading(false);}).catch(error=>{console.error(\"Erreur lors du chargement des dépenses:\",error);setError(\"Impossible de charger les dépenses\");setIsLoading(false);});},[]);if(isLoading)return/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des d\\xE9penses...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error});if(expenses.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"Aucune d\\xE9pense enregistr\\xE9e.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Liste des d\\xE9penses\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:expenses.map(expense=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-2 flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:expense.description||expense.name}),/*#__PURE__*/_jsxs(\"span\",{className:expense.amount<0?\"text-red-500\":\"text-green-500\",children:[expense.amount.toFixed(2),\" \\u20AC\"]})]},expense.id))})]});}export default ExpensesList;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ExpensesList","expenses","setExpenses","isLoading","setIsLoading","error","setError","get","then","response","data","catch","console","children","className","length","map","expense","description","name","amount","toFixed","id"],"sources":["/home/tresor/Documents/Gestion des depenses/frontend/src/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction ExpensesList() {\n    const [expenses, setExpenses] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        // Utilisation d'axios au lieu de fetch pour la cohérence avec le reste du projet\n        setIsLoading(true);\n        axios.get(\"/api/transactions\") // Utilise le proxy configuré dans package.json\n            .then(response => {\n                setExpenses(response.data);\n                setIsLoading(false);\n            })\n            .catch(error => {\n                console.error(\"Erreur lors du chargement des dépenses:\", error);\n                setError(\"Impossible de charger les dépenses\");\n                setIsLoading(false);\n            });\n    }, []);\n\n    if (isLoading) return <p>Chargement des dépenses...</p>;\n    if (error) return <p className=\"text-red-500\">{error}</p>;\n    if (expenses.length === 0) return <p>Aucune dépense enregistrée.</p>;\n\n    return (\n        <div className=\"mt-4\">\n            <h2 className=\"text-xl font-semibold mb-2\">Liste des dépenses</h2>\n            <ul className=\"divide-y divide-gray-200\">\n                {expenses.map(expense => (\n                    <li key={expense.id} className=\"py-2 flex justify-between\">\n                        <span>{expense.description || expense.name}</span>\n                        <span className={expense.amount < 0 ? \"text-red-500\" : \"text-green-500\"}>\n                            {expense.amount.toFixed(2)} €\n                        </span>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default ExpensesList;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ;AACAW,YAAY,CAAC,IAAI,CAAC,CAClBT,KAAK,CAACY,GAAG,CAAC,mBAAmB,CAAE;AAAA,CAC1BC,IAAI,CAACC,QAAQ,EAAI,CACdP,WAAW,CAACO,QAAQ,CAACC,IAAI,CAAC,CAC1BN,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CAAC,CACDO,KAAK,CAACN,KAAK,EAAI,CACZO,OAAO,CAACP,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CAC/DC,QAAQ,CAAC,oCAAoC,CAAC,CAC9CF,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,SAAS,CAAE,mBAAON,IAAA,MAAAgB,QAAA,CAAG,+BAA0B,CAAG,CAAC,CACvD,GAAIR,KAAK,CAAE,mBAAOR,IAAA,MAAGiB,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAER,KAAK,CAAI,CAAC,CACzD,GAAIJ,QAAQ,CAACc,MAAM,GAAK,CAAC,CAAE,mBAAOlB,IAAA,MAAAgB,QAAA,CAAG,mCAA2B,CAAG,CAAC,CAEpE,mBACId,KAAA,QAAKe,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBhB,IAAA,OAAIiB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CAAC,uBAAkB,CAAI,CAAC,cAClEhB,IAAA,OAAIiB,SAAS,CAAC,0BAA0B,CAAAD,QAAA,CACnCZ,QAAQ,CAACe,GAAG,CAACC,OAAO,eACjBlB,KAAA,OAAqBe,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACtDhB,IAAA,SAAAgB,QAAA,CAAOI,OAAO,CAACC,WAAW,EAAID,OAAO,CAACE,IAAI,CAAO,CAAC,cAClDpB,KAAA,SAAMe,SAAS,CAAEG,OAAO,CAACG,MAAM,CAAG,CAAC,CAAG,cAAc,CAAG,gBAAiB,CAAAP,QAAA,EACnEI,OAAO,CAACG,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,SAC/B,EAAM,CAAC,GAJFJ,OAAO,CAACK,EAKb,CACP,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAEA,cAAe,CAAAtB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}